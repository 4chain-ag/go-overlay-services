components:
  schemas:
    AdmittanceInstructions:
      type: object
      properties:
        outputsToAdmit:
          type: array
          items:
            type: integer
            format: uint32
        coinsToRetain:
          type: array
          items:
            type: integer
            format: uint32
        coinsRemoved:
          type: array
          items:
            type: integer
            format: uint32
        ancillaryTxIDs:
          type: array
          items:
            type: string
      required:
        - outputsToAdmit
        - coinsToRetain
        - coinsRemoved
        - ancillaryTxIDs

    STEAK:
      type: object
      additionalProperties:
        $ref: "#/components/schemas/AdmittanceInstructions"

    SubmitTransaction:
      type: object
      properties:
        STEAK:
          $ref: "#/components/schemas/STEAK"
      required:
        - STEAK

    LookupAnswer:
      type: object
      properties:
        answer:
          type: object
          description: 'The answer data for the lookup question'
          additionalProperties: true
      required:
        - answer

    LookupServiceProviderMetadata:
      type: object
      properties:
        name:
          type: string
        shortDescription:
          type: string
        iconURL:
          type: string
          nullable: true
        version:
          type: string
          nullable: true
        informationURL:
          type: string
          nullable: true
      required:
        - name
        - shortDescription

    TopicManagerMetadata:
      type: object
      properties:
        name:
          type: string
        shortDescription:
          type: string
        iconURL:
          type: string
          nullable: true
        version:
          type: string
          nullable: true
        informationURL:
          type: string
          nullable: true
      required:
        - name
        - shortDescription

    LookupServiceProvidersList:
      type: object
      additionalProperties:
        $ref: "#/components/schemas/LookupServiceProviderMetadata"

    TopicManagersList:
      type: object
      additionalProperties:
        $ref: "#/components/schemas/TopicManagerMetadata"

    TopicManagerDocumentation:
      type: object
      properties:
        documentation:
          type: string
          description: Markdown-formatted documentation for the topic manager
      required:
        - documentation

    LookupServiceDocumentation:
      type: object
      properties:
        documentation:
          type: string
          description: Markdown-formatted documentation for the lookup service
      required:
        - documentation

  responses:
    SubmitTransactionResponse:
      description: |
        Overlay engine successfully processed the submitted transaction octet-stream with the specified topic headers.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SubmitTransaction'

    LookupQuestionResponse:
      description: |
        Overlay engine successfully processed the lookup question and returned an answer.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/LookupAnswer'

    LookupServiceProvidersListResponse:
      description: |
        A list of lookup service providers with their metadata.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/LookupServiceProvidersList'

    TopicManagersListResponse:
      description: |
        A list of topic managers with their metadata.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TopicManagersList'

    LookupServiceProviderDocumentationResponse:
      description: |
        Returns the documentation for the specified lookup service
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/LookupServiceDocumentation'

    TopicManagerDocumentationResponse:
      description: |
        Returns the documentation for the specified topic manager
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TopicManagerDocumentation'
